!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function o(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function $(){return d(" ")}function h(){return d("")}function f(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t,e){e=""+e,t.data!==e&&(t.data=e)}function b(t,e){t.value=null==e?"":e}function g(t,e,n){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function y(t,e,n){t.classList.toggle(e,!!n)}class _{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(t=!1){this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){var r;this.e||(this.is_svg?this.e=(r=e.nodeName,document.createElementNS("http://www.w3.org/2000/svg",r)):this.e=u(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)o(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(l)}}let v;function k(t){v=t}function x(){if(!v)throw new Error("Function called outside component initialization");return v}function w(){const t=x();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const a=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return i.slice().forEach((e=>{e.call(t,a)})),!a.defaultPrevented}return!0}}const P=[],B=[];let I=[];const L=[],M=Promise.resolve();let T=!1;function V(t){I.push(t)}const E=new Set;let z=0;function F(){if(0!==z)return;const t=v;do{try{for(;z<P.length;){const t=P[z];z++,k(t),N(t.$$)}}catch(t){throw P.length=0,z=0,t}for(k(null),P.length=0,z=0;B.length;)B.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];E.has(e)||(E.add(e),e())}I.length=0}while(P.length);for(;L.length;)L.pop()();T=!1,E.clear(),k(t)}function N(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(V)}}const S=new Set;let q,H;function A(){q={r:0,c:[],p:q}}function Q(){q.r||r(q.c),q=q.p}function O(t,e){t&&t.i&&(S.delete(t),t.i(e))}function C(t,e,n,r){if(t&&t.o){if(S.has(t))return;S.add(t),q.c.push((()=>{S.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function D(t){return void 0!==t?.length?t:Array.from(t)}function j(t){t&&t.c()}function R(t,n,a){const{fragment:c,after_update:o}=t.$$;c&&c.m(n,a),V((()=>{const n=t.$$.on_mount.map(e).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),o.forEach(V)}function U(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];I.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),I=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(t,e){-1===t.$$.dirty[0]&&(P.push(t),T||(T=!0,M.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,i,a,c,o,s,u=null,d=[-1]){const $=v;k(e);const h=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:o,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||($?$.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:i.target||$.$$.root};u&&u(h.root);let f=!1;if(h.ctx=a?a(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&o(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),f&&Z(e,t)),n})):[],h.update(),f=!0,r(h.before_update),h.fragment=!!c&&c(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(l)}else h.fragment&&h.fragment.c();i.intro&&O(e.$$.fragment),R(e,i.target,i.anchor),F()}k($)}function G(t,e,n,r){const i=n[t]?.type;if(e="Boolean"===i&&"boolean"!=typeof e?null!=e:e,!r||!n[t])return e;if("toAttribute"===r)switch(i){case"Object":case"Array":return null==e?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return null==e?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":default:return e;case"Number":return null!=e?+e:e}}function K(t,e,n,r,i,a){let c=class extends H{constructor(){super(t,n,i),this.$$p_d=e}static get observedAttributes(){return Object.keys(e).map((t=>(e[t].attribute||t).toLowerCase()))}};return Object.keys(e).forEach((t=>{Object.defineProperty(c.prototype,t,{get(){return this.$$c&&t in this.$$c?this.$$c[t]:this.$$d[t]},set(n){n=G(t,n,e),this.$$d[t]=n,this.$$c?.$set({[t]:n})}})})),r.forEach((t=>{Object.defineProperty(c.prototype,t,{get(){return this.$$c?.[t]}})})),a&&(c=a(c)),t.element=c,c}"function"==typeof HTMLElement&&(H=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(t,e,n){super(),this.$$ctor=t,this.$$s=e,n&&this.attachShadow({mode:"open"})}addEventListener(t,e,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(e),this.$$c){const n=this.$$c.$on(t,e);this.$$l_u.set(e,n)}super.addEventListener(t,e,n)}removeEventListener(t,e,n){if(super.removeEventListener(t,e,n),this.$$c){const t=this.$$l_u.get(e);t&&(t(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn)return;function t(t){return()=>{let e;return{c:function(){e=u("slot"),"default"!==t&&m(e,"name",t)},m:function(t,n){o(t,e,n)},d:function(t){t&&l(e)}}}}const e={},n=function(t){const e={};return t.childNodes.forEach((t=>{e[t.slot||"default"]=!0})),e}(this);for(const i of this.$$s)i in n&&(e[i]=[t(i)]);for(const a of this.attributes){const c=this.$$g_p(a.name);c in this.$$d||(this.$$d[c]=G(c,a.value,this.$$p_d,"toProp"))}this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$scope:{ctx:[]}}});const r=()=>{this.$$r=!0;for(const t in this.$$p_d)if(this.$$d[t]=this.$$c.$$.ctx[this.$$c.$$.props[t]],this.$$p_d[t].reflect){const e=G(t,this.$$d[t],this.$$p_d,"toAttribute");null==e?this.removeAttribute(this.$$p_d[t].attribute||t):this.setAttribute(this.$$p_d[t].attribute||t,e)}this.$$r=!1};this.$$c.$$.after_update.push(r),r();for(const s in this.$$l)for(const d of this.$$l[s]){const $=this.$$c.$on(s,d);this.$$l_u.set(d,$)}this.$$l={}}}attributeChangedCallback(t,e,n){this.$$r||(t=this.$$g_p(t),this.$$d[t]=G(t,n,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(t){return Object.keys(this.$$p_d).find((e=>this.$$p_d[e].attribute===t||!this.$$p_d[e].attribute&&e.toLowerCase()===t))||t}});class W{$$=void 0;$$set=void 0;$destroy(){U(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function X(t,e,n){const r=t.slice();return r[10]=e[n],r}function Y(t,e,n){const r=t.slice();return r[13]=e[n],r}function tt(t){let e,n,r,i,a=t[13]+"";return{c(){e=u("option"),n=d(a),r=$(),e.__value=i=t[13],b(e,e.__value)},m(t,i){o(t,e,i),c(e,n),c(e,r)},p(t,r){2&r&&a!==(a=t[13]+"")&&p(n,a),2&r&&i!==(i=t[13])&&(e.__value=i,b(e,e.__value))},d(t){t&&l(e)}}}function et(t){let e,n,r,i,a=D(t[10].values),c=[];for(let e=0;e<a.length;e+=1)c[e]=tt(Y(t,a,e));function d(...e){return t[8](t[10],...e)}return{c(){e=u("select");for(let t=0;t<c.length;t+=1)c[t].c();m(e,"class","kaching-bundles__bar-variant-select")},m(n,a){o(n,e,a);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);g(e,t[5][t[10].position-1]),r||(i=f(e,"change",d),r=!0)},p(r,i){if(t=r,2&i){let n;for(a=D(t[10].values),n=0;n<a.length;n+=1){const r=Y(t,a,n);c[n]?c[n].p(r,i):(c[n]=tt(r),c[n].c(),c[n].m(e,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}34&i&&n!==(n=t[5][t[10].position-1])&&g(e,t[5][t[10].position-1])},d(t){t&&l(e),s(c,t),r=!1,i()}}}function nt(t){let e,n,r=t[2].invalidVariant+"";return{c(){e=u("div"),n=d(r),m(e,"class","kaching-bundles__invalid-variant-error")},m(t,r){o(t,e,r),c(e,n)},p(t,e){4&e&&r!==(r=t[2].invalidVariant+"")&&p(n,r)},d(t){t&&l(e)}}}function rt(e){let n,r,i,a,h,f,b,g,_=D(e[1].options),v=[];for(let t=0;t<_.length;t+=1)v[t]=et(X(e,_,t));let k=!e[4]&&nt(e);return{c(){n=u("div"),r=u("div"),i=u("div"),a=d("#"),h=d(e[0]),f=$(),b=u("div");for(let t=0;t<v.length;t+=1)v[t].c();g=$(),k&&k.c(),m(i,"class","kaching-bundles__bar-variant-number"),m(b,"class","kaching-bundles__bar-variant-selects"),m(r,"class","kaching-bundles__bar-variant__content"),m(n,"class","kaching-bundles__bar-variant"),y(n,"kaching-bundles__bar-variant--invalid",!e[3])},m(t,e){o(t,n,e),c(n,r),c(r,i),c(i,a),c(i,h),c(r,f),c(r,b);for(let t=0;t<v.length;t+=1)v[t]&&v[t].m(b,null);c(n,g),k&&k.m(n,null)},p(t,[e]){if(1&e&&p(h,t[0]),98&e){let n;for(_=D(t[1].options),n=0;n<_.length;n+=1){const r=X(t,_,n);v[n]?v[n].p(r,e):(v[n]=et(r),v[n].c(),v[n].m(b,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=_.length}t[4]?k&&(k.d(1),k=null):k?k.p(t,e):(k=nt(t),k.c(),k.m(n,null)),8&e&&y(n,"kaching-bundles__bar-variant--invalid",!t[3])},i:t,o:t,d(t){t&&l(n),s(v,t),k&&k.d()}}}function it(t,e,n){let r,i,a,{number:c}=e,{product:o}=e,{selectedVariantId:l}=e,{translations:s}=e;const u=w();function d(t,e){const r=[...a];r[t-1]=e,n(5,a=r);const c=o.variants.find((t=>a.every(((e,n)=>t[`option${n+1}`]==e))));n(4,i=c),i&&u("change",{variantId:i.id})}return t.$$set=t=>{"number"in t&&n(0,c=t.number),"product"in t&&n(1,o=t.product),"selectedVariantId"in t&&n(7,l=t.selectedVariantId),"translations"in t&&n(2,s=t.translations)},t.$$.update=()=>{130&t.$$.dirty&&n(3,r=o.variants.find((t=>t.id===l))),8&t.$$.dirty&&n(4,i=r),8&t.$$.dirty&&n(5,a=r?[r.option1,r.option2,r.option3]:[])},[c,o,s,r,i,a,d,l,(t,e)=>d(t.position,e.target.value)]}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class at extends W{constructor(t){super(),J(this,t,it,rt,a,{number:0,product:1,selectedVariantId:7,translations:2})}get number(){return this.$$.ctx[0]}set number(t){this.$$set({number:t}),F()}get product(){return this.$$.ctx[1]}set product(t){this.$$set({product:t}),F()}get selectedVariantId(){return this.$$.ctx[7]}set selectedVariantId(t){this.$$set({selectedVariantId:t}),F()}get translations(){return this.$$.ctx[2]}set translations(t){this.$$set({translations:t}),F()}}K(at,{number:{},product:{},selectedVariantId:{},translations:{}},[],[],!0);var ct='<svg width="102" height="60" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <ellipse cx="47.9" cy="23.5" rx="47.9" ry="23.5" transform="matrix(.9929 .11897 -.14278 .98975 6.7 2)" fill="currentColor" />\n  <ellipse cx="47.9" cy="23.5" rx="47.9" ry="23.5" transform="matrix(.9929 .11897 -.14278 .98975 6.7 2)" fill="#000" fill-opacity=".3" />\n  <mask id="a" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="3" y="5" width="96" height="48">\n    <ellipse cx="47.9" cy="23.5" rx="47.9" ry="23.5" transform="matrix(.9929 .11897 -.14278 .98975 6.7 0)" fill="currentColor" />\n  </mask>\n  <g mask="url(#a)">\n    <ellipse cx="47.9" cy="23.5" rx="47.9" ry="23.5" transform="matrix(.9929 .11897 -.14278 .98975 6.7 0)" fill="currentColor" />\n  </g>\n  <path class="most-popular-text" d="M28 15.4 25.4 24a.3.3 0 0 1 0 .1.2.2 0 0 1-.2.1c-.4.1-.7 0-.8-.4a1007.3 1007.3 0 0 1-3.9-9.2l-.8 7.6a.5.5 0 0 0 0 .2l.6.8a.7.7 0 0 1 0 .1.2.2 0 0 1 0 .1c0 .5-1.7.1-2 0-1 0 .1-1 .2-1.4l1.1-9c0-.4-.1-.7-.5-1a.4.4 0 0 1-.1-.2v-.2a.2.2 0 0 1 .1 0 15.2 15.2 0 0 1 3.1.2h.1c.1 0 0 0 0 .1.3.5-.5.7-.3 1.2a1361.6 1361.6 0 0 1 3.2 8.1l2.3-7.3a.7.7 0 0 0-.1-.6c-.3-.4-1-1 .1-1l2.7.4c.2 0 .3.2.2.4a.4.4 0 0 1-.1.2c-.3.3-.5.5-.4 1a771.7 771.7 0 0 0 2.5 10c.5.5.7 1-.3.8l-2.2-.3c-.5 0-.5-.4-.1-1a.7.7 0 0 0 .1-.6l-1.6-7.6c0-.2-.1-.2-.1 0zm24 4.7.1 4.5c0 1 .6 1.5 1.6 1.5.3 0 .5-.2.6-.5.1-.4.3-.5.5-.3h.1v.1c.1 1.1-.4 2-1.5 2-2.3.4-3.2-1.2-3.3-3.3l-.2-4.1c0-.4-.2-.5-.6-.5-.5 0-.8-.1-.7-.7a.2.2 0 0 1 .2-.1c1.3.2 2-.3 2-1.6a.2.2 0 0 1 .2-.1c1.1-.5.9 1.3.9 1.9a.1.1 0 0 0 .1.1l2.2.3.2.1c.1.3.1.5-.1.7a.2.2 0 0 1-.1 0 .4.4 0 0 1-.1 0l-2-.1a.1.1 0 0 0-.1 0zm-11.6 4.6c-.7.8-1.8 1.2-3 1.1-1.1 0-2.3-.5-3.3-1.4A5.7 5.7 0 0 1 33 23a5 5 0 0 1-.6-1.7 4 4 0 0 1 .1-1.7c.1-.5.4-1 .8-1.4.7-.7 1.7-1.2 2.9-1.1 1.2 0 2.4.6 3.3 1.4.5.4.9 1 1.2 1.5.3.5.5 1.1.5 1.7a4 4 0 0 1 0 1.6c-.2.6-.5 1-.8 1.4zm-2.4.4c.3 0 .5-.3.7-.5l.5-1v-1.4a6.4 6.4 0 0 0-.3-1.4 6.4 6.4 0 0 0-.6-1.4 4.7 4.7 0 0 0-.8-1 2.6 2.6 0 0 0-1-.6 1.5 1.5 0 0 0-.9 0c-.3 0-.5.3-.7.5l-.4 1a4.7 4.7 0 0 0 0 1.4 6.4 6.4 0 0 0 1.7 3.8c.3.3.6.5 1 .6.2 0 .5.1.8 0zm8-6c-1-.8-2.4-.4-2.3 1 0 .4.3.8.7 1l3 1.2c1.1.5 2.2 2.5 1.1 3.6-1.6 1.8-5.6.6-6.8-1.3-.2-.4-.1-.8.4-1 1.2-.5 1.5 1.5 2.3 2 1 .8 3 .6 2.4-1.1-.3-1-3.2-1.8-3.8-2.2-1.9-1.2-1.8-4 .8-4.3 1.6-.1 4.5.6 4.7 2.6a.3.3 0 0 1 0 .3c-1.1 1.3-1.9-1.3-2.5-1.8zM28.3 34.9c0 1.4 0 2 .8 3 .2.2.2.4 0 .6a.3.3 0 0 1-.2 0l-3.8-.3a.4.4 0 0 1-.3 0c-.3-.4-.3-.7 0-1a1 1 0 0 0 .4-.8L25 28c0-.4-.3-.9-.8-1.4a.3.3 0 0 1 0-.1.2.2 0 0 1 0-.1c0-.3.2-.4.6-.3 3.4.2 9.4.1 9.7 4.8.3 3.8-3 4.1-6 3.9zm-.2-6.7c0 1.4 0 3 .2 4.6 0 .3.2.5.5.6 3.4 1 2.5-3.2 1.6-4.6-.3-.5-.8-.9-1.5-1.1-.5-.2-.8 0-.8.5zM59.5 41c-1.7 1.3-4.3.4-5.2-1.4-1-1.8 0-4.1-1.3-5.8a.4.4 0 0 1 0-.2c0-.6.4-.5.8-.5a19.9 19.9 0 0 1 2.5 0 .4.4 0 0 1 .4.3l.2 5.3c0 .8.3 1.8 1.1 1.8 1.7.2 1-4.2 1-5.3a.5.5 0 0 0-.2-.2l-.5-.8c-.3-.3-.2-.5.3-.6h2.9c.3 0 .4 0 .4.4l.3 6c0 1.6 1.4 1.6 1.3-.2l-.3-7c0-.8-.3-1.2-.8-1.8a.3.3 0 0 1 0-.2.3.3 0 0 1 0-.2.3.3 0 0 1 .2 0l2.8-1.2c.5-.2.8 0 .8.6l.5 10.4c0 .5.2.8.6 1.2.3.4.4 1-.4.8-.9 0-3.1 0-3.9-.4a.4.4 0 0 0-.2 0c-.9 0-2.7.1-3.1-1a.1.1 0 0 0-.2 0zm-16.4-3c-.5 1-1.5 1.6-2.7 1.8-1.2.2-2.5 0-3.6-.7a5.7 5.7 0 0 1-1.5-1.2 5 5 0 0 1-.9-1.6 4.2 4.2 0 0 1-.2-1.7 3.5 3.5 0 0 1 .5-1.6c.5-.9 1.5-1.5 2.7-1.7 1.2-.2 2.5 0 3.6.7a5.7 5.7 0 0 1 1.4 1.2c.5.5.8 1 1 1.6.2.5.2 1.1.2 1.7a3.5 3.5 0 0 1-.5 1.5zm-3.3 1c.2 0 .3-.1.4-.4l.3-.8v-1.3a8.8 8.8 0 0 0-.3-1.3 8.8 8.8 0 0 0-.5-1.3 5.9 5.9 0 0 0-.6-1.1l-.6-.6c-.2-.2-.4-.2-.6-.2-.2 0-.3.2-.4.4l-.3 1v1.1a8.8 8.8 0 0 0 1.4 3.8l.6.6c.2.1.4.2.6.1z" fill="#FEFDFD" />\n  <path class="most-popular-text" d="M46.9 32.7a3 3 0 0 1 2.8-.3c2.5.8 3.6 2.5 3.5 5-.2 2.9-3.2 4.2-5.5 2.9-.2-.1-.2 0-.2 0 .1 1-.2 2.2.7 3 .3.2.4.5.1.7a.3.3 0 0 1-.2.1 401 401 0 0 0-3.5-.3c-.4 0-.6-.3-.7-.6a.3.3 0 0 1 0-.1.5.5 0 0 1 .1-.1l.5-.7a.4.4 0 0 0 0-.2l-.2-7.3c0-.6-1.1-.9-.9-1.6a.3.3 0 0 1 .2-.2l2.6-1a.2.2 0 0 1 .2 0c.2.1.4.4.4.7zM49 40c2.2 0 .5-5.5-.1-6.4-.7-.8-1.5-.7-1.7.4v3.4c.2.9.6 2.6 1.8 2.6zm24.5 2.7c-2.7 1.4-5.7-1-6.1-3.7-.7-3.5 2.8-5.8 5.8-3.8a.1.1 0 0 0 .1 0c.3-.7 2.3 0 2.9.2.4 0 .6.3.5.7a.3.3 0 0 1 0 .1.3.3 0 0 1-.1 0c-.4.4-.6.8-.6 1.2 0 2.3.2 3.7.2 4.2s1 1.2.7 1.7a.2.2 0 0 1-.1 0 .3.3 0 0 1-.2.1l-2.6-.3a.3.3 0 0 1-.2 0l-.2-.4a.1.1 0 0 0-.1 0zm-.4-5.2c-.2-1.8-2.7-3.4-2.8-.7-.1 1.5.3 4.6 1.9 5.5a.4.4 0 0 0 .2 0c1.4-.3.8-3.5.7-4.8zM80.5 36.5c.3-.3.5-.7 1-.9 3.8-1.6 3.6 4.9.9 2.9-.5-.4-.5-1.7-1.2-1.5a.3.3 0 0 0-.1 0 .3.3 0 0 0 0 .2c-.4.7-.4 4.6.1 5.2.2.3 1.5 1.2.2 1.2a52 52 0 0 1-3.5-.3c-.3 0-.5-.2-.5-.5a.4.4 0 0 1 0-.2c.4-.4.6-.7.6-1.2l-.2-3.5a.4.4 0 0 0 0-.2l-.9-1c-.2-.2 0-.4.3-.6l2.6-1c.3 0 .5 0 .5.4v1h.2z" fill="#FEFDFD" />\n  <path class="most-popular-text" fill-rule="evenodd" clip-rule="evenodd" d="m82.2 24.2-.7-6.2-.7 6.2-2.7-2.1 2 2.7-6.1.7 6.2.7L78 29l2.8-2.1.7 6.1.7-6.1L85 29l-2.2-2.8 6.2-.7-6.1-.7 2-2.7-2.7 2.1z" fill="#fff" />\n  <path class="most-popular-text" d="M45 4v1a2 2 0 0 0 2 2h1-1a2 2 0 0 0-2 2v1-1a2 2 0 0 0-2-2h-1 1a2 2 0 0 0 2-2V4zm12 41v1a2 2 0 0 0 2 2h1-1a2 2 0 0 0-2 2v1-1a2 2 0 0 0-2-2h-1 1a2 2 0 0 0 2-2v-1zM13 22v3a4 4 0 0 0 4 4h3-3a4 4 0 0 0-4 4v3-3a4 4 0 0 0-4-4H6h3a4 4 0 0 0 4-4v-3zM67 4v3a4 4 0 0 0 4 4h3-3a4 4 0 0 0-4 4v3-3a4 4 0 0 0-4-4h-3 3a4 4 0 0 0 4-4V4z" fill="#fff" />\n</svg>';function ot(t){let e,n,r,i=(t[1]||ut)+"";return{c(){e=u("div"),n=u("div"),r=d(i),m(n,"class","kaching-bundles__bar-most-popular__content"),m(e,"class","kaching-bundles__bar-most-popular kaching-bundles__bar-most-popular--simple")},m(t,i){o(t,e,i),c(e,n),c(n,r)},p(t,e){2&e&&i!==(i=(t[1]||ut)+"")&&p(r,i)},d(t){t&&l(e)}}}function lt(e){let n;return{c(){n=u("div"),m(n,"class","kaching-bundles__bar-most-popular kaching-bundles__bar-most-popular--fancy")},m(t,e){o(t,n,e),n.innerHTML=ct},p:t,d(t){t&&l(n)}}}function st(e){let n;function r(t,e){return"fancy"===t[0]?lt:ot}let i=r(e),a=i(e);return{c(){a.c(),n=h()},m(t,e){a.m(t,e),o(t,n,e)},p(t,[e]){i===(i=r(t))&&a?a.p(t,e):(a.d(1),a=i(t),a&&(a.c(),a.m(n.parentNode,n)))},i:t,o:t,d(t){t&&l(n),a.d(t)}}}const ut="MOST POPULAR";function dt(t,e,n){let{style:r="simple"}=e,{text:i=ut}=e;return t.$$set=t=>{"style"in t&&n(0,r=t.style),"text"in t&&n(1,i=t.text)},[r,i]}class $t extends W{constructor(t){super(),J(this,t,dt,st,a,{style:0,text:1})}get style(){return this.$$.ctx[0]}set style(t){this.$$set({style:t}),F()}get text(){return this.$$.ctx[1]}set text(t){this.$$set({text:t}),F()}}function ht(t,e){const n={amount:t=>t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),amount_no_decimal:t=>t.toLocaleString("en-US",{maximumFractionDigits:0}),amount_no_decimals:t=>t.toLocaleString("en-US",{maximumFractionDigits:0}),amount_with_comma_separator:t=>t.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}),amount_no_decimals_with_comma_separator:t=>t.toLocaleString("de-DE",{maximumFractionDigits:0}),amount_with_apostrophe_separator:t=>t.toLocaleString("de-CH",{minimumFractionDigits:2,maximumFractionDigits:2})},r=/{{\s*(\w+)\s*}}/,i=(n[e.match(r)[1]]||n.amount)(t/100);return e.replace(r,i)}function ft(t,e,n){const r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0,composed:!0});t.$$.root.dispatchEvent(r)}function mt(t,e,n){return n.map((({variant:n,quantity:r})=>{let i=n.price;return(t.useProductCompareAtPrice||"default"===e.discountType)&&(i=Math.max(n.price,n.compareAtPrice)),i*r})).reduce(((t,e)=>t+e),0)}function pt(t,e,n,r){const i=function(t,e,n){const{discountType:r,discountValue:i}=t,a=e.map((({variant:t,quantity:e})=>t.price*e)),c=a.reduce(((t,e)=>t+e),0),o=e.map((({quantity:t})=>t)),l=o.reduce(((t,e)=>t+e),0);if("specific"===r){let e=100*i*n;if(l>Number(t.quantity)){const n=e/Number(t.quantity);e=Math.ceil(n*l)}return e<c?e:c}if("percentage"===r){const t=c*(100-i)/100;return Math.ceil(t)}if("amount"===r){return c-100*i*n*l}return c}(t,e,n),a=e.map((({quantity:t})=>t)),c=a.reduce(((t,e)=>t+e),0);if(r&&"default"!==t.discountType){if(r.perItem){return bt(i/c)*c}return bt(i)}return i}function bt(t){return 100*Math.ceil(t/100)}K($t,{style:{},text:{}},[],[],!0);const gt={"product.title":({product:t})=>t.title,"deal_bar.discount_amount":({config:t,dealBlock:e,dealBar:n,variantQuantities:r})=>{if(!r)return;return ht(mt(e,n,r)-pt(n,r,t.currencyRate,e.priceRounding&&{perItem:e.showPricesPerItem}),t.moneyFormat)},"deal_bar.discount_percentage":({config:t,dealBlock:e,dealBar:n,variantQuantities:r})=>{if(!r)return;const i=mt(e,n,r),a=(i-pt(n,r,t.currencyRate,e.priceRounding&&{perItem:e.showPricesPerItem}))/i*100;return`${Math.round(a)}%`}},yt=({config:t,product:e,dealBlock:n,dealBar:r,variantQuantities:i})=>a=>{if(!a)return a;const c=(({config:t,product:e,dealBlock:n,dealBar:r,variantQuantities:i})=>a=>{if(a.match(/^product\.metafields/))return((t,e)=>{if(!e.metafields)return;const n=t.match(/^product\.metafields\.([a-zA-Z0-9_\.]+)\.([a-zA-Z0-9_\.]+)/);if(!n)return;const[r,i,a]=n;return i&&a?e.metafields[i]&&e.metafields[i][a]:void 0})(a,e);const c=gt[a];return c?c({config:t,product:e,dealBlock:n,dealBar:r,variantQuantities:i}):void 0})({config:t,product:e,dealBlock:n,dealBar:r,variantQuantities:i});return a.replace(/{{\s*([a-zA-Z0-9_\.]+)\s*}}/g,((t,e)=>c(e)||""))};function _t(t,e,n){const r=t.slice();return r[38]=e[n],r[40]=n,r}function vt(t){let e,n;return e=new $t({props:{style:t[0].mostPopularStyle,text:t[18]}}),{c(){j(e.$$.fragment)},m(t,r){R(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.style=t[0].mostPopularStyle),262144&n[0]&&(r.text=t[18]),e.$set(r)},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function kt(t){let e;return{c(){e=u("span"),m(e,"class","kaching-bundles__bar-label")},m(n,r){o(n,e,r),e.innerHTML=t[19]},p(t,n){524288&n[0]&&(e.innerHTML=t[19])},d(t){t&&l(e)}}}function xt(t){let e,n,r,i=ht(t[0].showPricesPerItem?t[16]:t[7],t[3].moneyFormat)+"",a=t[15]&&Bt(t);return{c(){e=u("div"),n=$(),a&&a.c(),r=h(),m(e,"class","kaching-bundles__bar-price")},m(t,c){o(t,e,c),e.innerHTML=i,o(t,n,c),a&&a.m(t,c),o(t,r,c)},p(t,n){65673&n[0]&&i!==(i=ht(t[0].showPricesPerItem?t[16]:t[7],t[3].moneyFormat)+"")&&(e.innerHTML=i),t[15]?a?a.p(t,n):(a=Bt(t),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(t){t&&(l(e),l(n),l(r)),a&&a.d(t)}}}function wt(t){let e,n,r,i,a,s,h,f,b,g=ht(t[0].showPricesPerItem?t[16]:t[7],t[3].moneyFormat)+"",y=ht(t[12],t[3].moneyFormat)+"",v=t[15]&&It(t);return{c(){e=u("div"),n=u("div"),r=$(),v&&v.c(),i=$(),a=u("div"),s=u("div"),h=new _(!1),f=d(" / "),b=d(t[8]),m(n,"class","kaching-bundles__bar-price"),m(e,"class","kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--primary"),h.a=f,m(s,"class","kaching-bundles__bar-unit-price"),m(a,"class","kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--secondary")},m(t,l){o(t,e,l),c(e,n),n.innerHTML=g,c(e,r),v&&v.m(e,null),o(t,i,l),o(t,a,l),c(a,s),h.m(y,s),c(s,f),c(s,b)},p(t,r){65673&r[0]&&g!==(g=ht(t[0].showPricesPerItem?t[16]:t[7],t[3].moneyFormat)+"")&&(n.innerHTML=g),t[15]?v?v.p(t,r):(v=It(t),v.c(),v.m(e,null)):v&&(v.d(1),v=null),4104&r[0]&&y!==(y=ht(t[12],t[3].moneyFormat)+"")&&h.p(y),256&r[0]&&p(b,t[8])},d(t){t&&(l(e),l(i),l(a)),v&&v.d()}}}function Pt(t){let e,n,r,i,a,s=ht(t[16],t[3].moneyFormat)+"",d=t[15]&&Lt(t),f=t[10]>1&&Mt(t);return{c(){e=u("div"),n=u("div"),r=$(),d&&d.c(),i=$(),f&&f.c(),a=h(),m(n,"class","kaching-bundles__bar-price"),m(e,"class","kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--main")},m(t,l){o(t,e,l),c(e,n),n.innerHTML=s,c(e,r),d&&d.m(e,null),o(t,i,l),f&&f.m(t,l),o(t,a,l)},p(t,r){65544&r[0]&&s!==(s=ht(t[16],t[3].moneyFormat)+"")&&(n.innerHTML=s),t[15]?d?d.p(t,r):(d=Lt(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null),t[10]>1?f?f.p(t,r):(f=Mt(t),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null)},d(t){t&&(l(e),l(i),l(a)),d&&d.d(),f&&f.d(t)}}}function Bt(t){let e,n=ht(t[0].showPricesPerItem?t[17]:t[11],t[3].moneyFormat)+"";return{c(){e=u("div"),m(e,"class","kaching-bundles__bar-full-price")},m(t,r){o(t,e,r),e.innerHTML=n},p(t,r){133129&r[0]&&n!==(n=ht(t[0].showPricesPerItem?t[17]:t[11],t[3].moneyFormat)+"")&&(e.innerHTML=n)},d(t){t&&l(e)}}}function It(t){let e,n=ht(t[0].showPricesPerItem?t[17]:t[11],t[3].moneyFormat)+"";return{c(){e=u("div"),m(e,"class","kaching-bundles__bar-full-price")},m(t,r){o(t,e,r),e.innerHTML=n},p(t,r){133129&r[0]&&n!==(n=ht(t[0].showPricesPerItem?t[17]:t[11],t[3].moneyFormat)+"")&&(e.innerHTML=n)},d(t){t&&l(e)}}}function Lt(t){let e,n=ht(t[17],t[3].moneyFormat)+"";return{c(){e=u("div"),m(e,"class","kaching-bundles__bar-full-price")},m(t,r){o(t,e,r),e.innerHTML=n},p(t,r){131080&r[0]&&n!==(n=ht(t[17],t[3].moneyFormat)+"")&&(e.innerHTML=n)},d(t){t&&l(e)}}}function Mt(t){let e,n,r,i,a=ht(t[7],t[3].moneyFormat)+"",s=ht(t[11],t[3].moneyFormat)+"";return{c(){e=u("div"),n=u("div"),r=$(),i=u("div"),m(n,"class","kaching-bundles__bar-price"),m(i,"class","kaching-bundles__bar-full-price"),m(e,"class","kaching-bundles__bar-pricing-row kaching-bundles__bar-pricing-row--secondary")},m(t,l){o(t,e,l),c(e,n),n.innerHTML=a,c(e,r),c(e,i),i.innerHTML=s},p(t,e){136&e[0]&&a!==(a=ht(t[7],t[3].moneyFormat)+"")&&(n.innerHTML=a),2056&e[0]&&s!==(s=ht(t[11],t[3].moneyFormat)+"")&&(i.innerHTML=s)},d(t){t&&l(e)}}}function Tt(t){let e,n,r,i,a=D({length:t[10]}),d=[];for(let e=0;e<a.length;e+=1)d[e]=Vt(_t(t,a,e));const h=t=>C(d[t],1,1,(()=>{d[t]=null}));return{c(){e=u("div"),n=u("div"),n.textContent=`${t[22]}`,r=$();for(let t=0;t<d.length;t+=1)d[t].c();m(n,"class","kaching-bundles__bar-variant-names"),m(e,"class","kaching-bundles__bar-variants")},m(t,a){o(t,e,a),c(e,n),c(e,r);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(e,null);i=!0},p(t,n){if(16778764&n[0]){let r;for(a=D({length:t[10]}),r=0;r<a.length;r+=1){const i=_t(t,a,r);d[r]?(d[r].p(i,n),O(d[r],1)):(d[r]=Vt(i),d[r].c(),O(d[r],1),d[r].m(e,null))}for(A(),r=a.length;r<d.length;r+=1)h(r);Q()}},i(t){if(!i){for(let t=0;t<a.length;t+=1)O(d[t]);i=!0}},o(t){d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)C(d[t]);i=!1},d(t){t&&l(e),s(d,t)}}}function Vt(t){let e,n;return e=new at({props:{number:t[40]+1,product:t[2],translations:t[3].translations,selectedVariantId:t[9][t[40]]}}),e.$on("change",(function(...e){return t[31](t[40],...e)})),{c(){j(e.$$.fragment)},m(t,r){R(e,t,r),n=!0},p(n,r){t=n;const i={};4&r[0]&&(i.product=t[2]),8&r[0]&&(i.translations=t[3].translations),512&r[0]&&(i.selectedVariantId=t[9][t[40]]),e.$set(i)},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Et(t){let e,n,r,i,a,s,d,h,p,b,g,_,v,k,x,w,P,B,I,L,M,T,V,E,z=t[6]&&vt(t),F=t[19]&&kt(t);function N(t,e){return t[0].showBothPrices?Pt:t[12]&&!t[3].ignoreUnitPrice?wt:xt}let S=N(t),q=S(t),H=t[14]&&Tt(t);return{c(){e=u("div"),n=u("input"),a=$(),s=u("label"),z&&z.c(),d=$(),h=u("div"),p=u("div"),b=$(),g=u("div"),_=u("div"),v=u("div"),k=u("span"),x=$(),F&&F.c(),w=$(),P=u("div"),B=$(),I=u("div"),q.c(),L=$(),H&&H.c(),m(n,"type","radio"),m(n,"name",r="kaching-bundles-deal-"+t[4]),n.value=i=t[1].id,m(n,"id",t[13]),n.checked=t[5],m(p,"class","kaching-bundles__bar-radio"),m(k,"class","kaching-bundles__bar-title"),m(v,"class","kaching-bundles__bar-first-line"),m(P,"class","kaching-bundles__bar-subtitle"),m(_,"class","kaching-bundles__bar-content-left"),m(I,"class","kaching-bundles__bar-pricing"),m(g,"class","kaching-bundles__bar-content"),m(h,"class","kaching-bundles__bar-main"),m(s,"for",t[13]),m(s,"class","kaching-bundles__bar-container"),y(s,"kaching-bundles__bar-container--most-popular",t[6]),m(e,"class","kaching-bundles__bar"),m(e,"data-deal-bar-id",M=t[1].id)},m(r,i){o(r,e,i),c(e,n),c(e,a),c(e,s),z&&z.m(s,null),c(s,d),c(s,h),c(h,p),c(h,b),c(h,g),c(g,_),c(_,v),c(v,k),k.innerHTML=t[21],c(v,x),F&&F.m(v,null),c(_,w),c(_,P),P.innerHTML=t[20],c(g,B),c(g,I),q.m(I,null),c(s,L),H&&H.m(s,null),T=!0,V||(E=f(n,"change",t[23]),V=!0)},p(t,a){(!T||16&a[0]&&r!==(r="kaching-bundles-deal-"+t[4]))&&m(n,"name",r),(!T||2&a[0]&&i!==(i=t[1].id))&&(n.value=i),(!T||8192&a[0])&&m(n,"id",t[13]),(!T||32&a[0])&&(n.checked=t[5]),t[6]?z?(z.p(t,a),64&a[0]&&O(z,1)):(z=vt(t),z.c(),O(z,1),z.m(s,d)):z&&(A(),C(z,1,1,(()=>{z=null})),Q()),(!T||2097152&a[0])&&(k.innerHTML=t[21]),t[19]?F?F.p(t,a):(F=kt(t),F.c(),F.m(v,null)):F&&(F.d(1),F=null),(!T||1048576&a[0])&&(P.innerHTML=t[20]),S===(S=N(t))&&q?q.p(t,a):(q.d(1),q=S(t),q&&(q.c(),q.m(I,null))),t[14]?H?(H.p(t,a),16384&a[0]&&O(H,1)):(H=Tt(t),H.c(),O(H,1),H.m(s,null)):H&&(A(),C(H,1,1,(()=>{H=null})),Q()),(!T||8192&a[0])&&m(s,"for",t[13]),(!T||64&a[0])&&y(s,"kaching-bundles__bar-container--most-popular",t[6]),(!T||2&a[0]&&M!==(M=t[1].id))&&m(e,"data-deal-bar-id",M)},i(t){T||(O(z),O(H),T=!0)},o(t){C(z),C(H),T=!1},d(t){t&&l(e),z&&z.d(),F&&F.d(),q.d(),H&&H.d(),V=!1,E()}}}function zt(t,e,n){let r,i,a,c,o,l,s,u,d,$,h,f,m,p,b,g,y,_,v,{dealBlock:k}=e,{dealBar:P}=e,{product:B}=e,{config:I}=e,{customQuantity:L}=e,{currentVariantId:M}=e,{componentId:T}=e,{selected:V=!1}=e,{mostPopular:E=!1}=e;const z=w();let F=!1;const N=B.options.map((t=>t.name)).join(", ");var S;function q(t,e){const r=[...i];r[t]=e,n(9,i=r),V&&z("variantSelected",{variantId:e})}function H(t,e=!1){if(!F&&!e)return;const n=A(t),r=ht(pt(P,n,I.currencyRate,$),I.moneyFormat);z("variantsChanged",{variantQuantities:n,formattedPrice:r,preselected:e})}function A(t){return t.reduce(((t,e)=>{const n=t.find((({variant:t})=>t.id===e));if(n)n.quantity+=1;else{const n=B.variants.find((t=>t.id===e));t.push({variant:n,quantity:1})}return t}),[])}S=()=>{V&&Number(P.quantity)>1&&(z("dealBarSelected",{dealBarId:P.id}),H(i,!0)),F=!0},x().$$.on_mount.push(S);return t.$$set=t=>{"dealBlock"in t&&n(0,k=t.dealBlock),"dealBar"in t&&n(1,P=t.dealBar),"product"in t&&n(2,B=t.product),"config"in t&&n(3,I=t.config),"customQuantity"in t&&n(25,L=t.customQuantity),"currentVariantId"in t&&n(26,M=t.currentVariantId),"componentId"in t&&n(4,T=t.componentId),"selected"in t&&n(5,V=t.selected),"mostPopular"in t&&n(6,E=t.mostPopular)},t.$$.update=()=>{33554434&t.$$.dirty[0]&&n(10,r=L||Number(P.quantity)),67109888&t.$$.dirty[0]&&n(9,i=M?Array(r).fill(M):[]),544&t.$$.dirty[0]&&V&&i.length&&H(i),512&t.$$.dirty[0]&&n(27,a=A(i)),134217743&t.$$.dirty[0]&&n(30,c=yt({config:I,product:B,dealBlock:k,dealBar:P,variantQuantities:a})),10&t.$$.dirty[0]&&n(29,o=P.translations.find((t=>t.locale===I.locale))),1610612738&t.$$.dirty[0]&&n(21,l=c((o?o.title:null)||P.title)),1610612738&t.$$.dirty[0]&&n(20,s=c((o?o.subtitle:null)||P.subtitle)),1610612738&t.$$.dirty[0]&&n(19,u=c((o?o.label:null)||P.label)),536870913&t.$$.dirty[0]&&n(18,d=(o?o.mostPopularText:null)||k.mostPopularText),1&t.$$.dirty[0]&&n(28,$=k.priceRounding&&{perItem:k.showPricesPerItem}),134217731&t.$$.dirty[0]&&n(11,h=k&&mt(k,P,a)),3072&t.$$.dirty[0]&&n(17,f=Math.ceil(h/r)),402653195&t.$$.dirty[0]&&n(7,m=k&&pt(P,a,I.currencyRate,$)),1152&t.$$.dirty[0]&&n(16,p=Math.ceil(m/r)),2176&t.$$.dirty[0]&&n(15,b=h!==m),1025&t.$$.dirty[0]&&n(14,g=r&&function(t){return!(!t.differentVariantsEnabled||"horizontal"===t.blockLayout||1===B.variants.length||!t.hideVariantPicker&&1==r&&!t.showVariantsForSingleQuantity)}(k)),18&t.$$.dirty[0]&&n(13,y=`${P.id}_${T}`),134217728&t.$$.dirty[0]&&n(8,_=function(t){const e=t[0];if(!e)return;const n=e.variant;if(!n.unitPriceReferenceValue)return;const{unitPriceReferenceValue:r,unitPriceReferenceUnit:i}=n;return 1==r?i:`${r}${i}`}(a)),134218112&t.$$.dirty[0]&&n(12,v=_&&function(t,e){const n=t.reduce(((t,{variant:e,quantity:n})=>{const{unitPriceQuantityValue:r,unitPriceQuantityUnit:i,unitPriceReferenceValue:a,unitPriceReferenceUnit:c}=e;if(!(r&&i&&a&&c))return t;const o=function(t,e,n){return e===n?t:"g"===e&&"kg"===n||"ml"===e&&"l"===n?t/1e3:void 0}(r,i,c);return o?t+o/a*n:t}),0);if(n)return e/n}(a,m))},[k,P,B,I,T,V,E,m,_,i,r,h,v,y,g,b,p,f,d,u,s,l,N,function(){z("dealBarSelected",{dealBarId:P.id})},q,L,M,a,$,o,c,(t,e)=>q(t,e.detail.variantId)]}class Ft extends W{constructor(t){super(),J(this,t,zt,Et,a,{dealBlock:0,dealBar:1,product:2,config:3,customQuantity:25,currentVariantId:26,componentId:4,selected:5,mostPopular:6},null,[-1,-1])}get dealBlock(){return this.$$.ctx[0]}set dealBlock(t){this.$$set({dealBlock:t}),F()}get dealBar(){return this.$$.ctx[1]}set dealBar(t){this.$$set({dealBar:t}),F()}get product(){return this.$$.ctx[2]}set product(t){this.$$set({product:t}),F()}get config(){return this.$$.ctx[3]}set config(t){this.$$set({config:t}),F()}get customQuantity(){return this.$$.ctx[25]}set customQuantity(t){this.$$set({customQuantity:t}),F()}get currentVariantId(){return this.$$.ctx[26]}set currentVariantId(t){this.$$set({currentVariantId:t}),F()}get componentId(){return this.$$.ctx[4]}set componentId(t){this.$$set({componentId:t}),F()}get selected(){return this.$$.ctx[5]}set selected(t){this.$$set({selected:t}),F()}get mostPopular(){return this.$$.ctx[6]}set mostPopular(t){this.$$set({mostPopular:t}),F()}}function Nt(t){const e={bold:"bold",light:"300",medium:"500",regular:"normal"};for(const n in e)if(t.includes(n))return e[n]}function St(t){return t.includes("italic")?"italic":"normal"}function qt(t){return`rgba(${t.red}, ${t.green}, ${t.blue}, ${t.alpha})`}function Ht(t){const{colors:e,fonts:n,cornerRadius:r}=t,i=e.border||e.primary;return function(t){return Object.entries(t).map((([t,e])=>`--${t}:${e}`)).join(";")}({"block-title-color":qt(e.title),"block-title-font-size":n.blockTitle.size+"px","block-title-font-weight":Nt(n.blockTitle.style),"block-title-font-style":St(n.blockTitle.style),"bar-border-radius":(r||0)+"px","bar-background-color":qt(e.background),"bar-selected-background-color":qt(e.selectedBackground||e.background),"bar-border-color":qt({...i,alpha:.3*i.alpha}),"bar-selected-border-color":qt(i),"block-block-title-color":qt(e.blockTitle||e.title),"bar-title-color":qt(e.title),"bar-title-font-size":n.title.size+"px","bar-title-font-weight":Nt(n.title.style),"bar-title-font-style":St(n.title.style),"bar-subtitle-color":qt(e.subtitle),"bar-subtitle-font-size":n.subtitle.size+"px","bar-subtitle-font-weight":Nt(n.subtitle.style),"bar-subtitle-font-style":St(n.subtitle.style),"bar-price-color":qt(e.price||e.title),"bar-full-price-color":qt(e.fullPrice||e.subtitle),"bar-label-border-top-radius":(r?r-1:0)+"px","bar-label-background-color":qt(e.labelBackground),"bar-label-color":qt(e.label),"bar-label-font-size":n.label.size+"px","bar-label-font-weight":Nt(n.label.style),"bar-label-font-style":St(n.label.style),"bar-most-popular-background-color":qt(e.mostPopularBackground||{red:255,green:17,blue:17,alpha:1}),"bar-most-popular-color":qt(e.mostPopular||{red:255,green:255,blue:255,alpha:1})})}function At(t,e,n){const r=t.slice();return r[18]=e[n],r}function Qt(t){let e,n,r,i,a,d,h=t[7]&&Ot(t),f=D(t[2].dealBars),p=[];for(let e=0;e<f.length;e+=1)p[e]=Ct(At(t,f,e));const b=t=>C(p[t],1,1,(()=>{p[t]=null}));let g=t[6]&&Dt(t);return{c(){e=u("div"),h&&h.c(),n=$(),r=u("div");for(let t=0;t<p.length;t+=1)p[t].c();i=$(),g&&g.c(),m(r,"class","kaching-bundles__bars"),m(e,"class","kaching-bundles__block kaching-bundles__block--loaded"),m(e,"data-deal-block-id",a=t[2].id),m(e,"style",t[8]),y(e,"kaching-bundles__block--horizontal","horizontal"===t[2].blockLayout)},m(t,a){o(t,e,a),h&&h.m(e,null),c(e,n),c(e,r);for(let t=0;t<p.length;t+=1)p[t]&&p[t].m(r,null);c(e,i),g&&g.m(e,null),d=!0},p(t,i){if(t[7]?h?h.p(t,i):(h=Ot(t),h.c(),h.m(e,n)):h&&(h.d(1),h=null),7743&i){let e;for(f=D(t[2].dealBars),e=0;e<f.length;e+=1){const n=At(t,f,e);p[e]?(p[e].p(n,i),O(p[e],1)):(p[e]=Ct(n),p[e].c(),O(p[e],1),p[e].m(r,null))}for(A(),e=f.length;e<p.length;e+=1)b(e);Q()}t[6]?g?g.p(t,i):(g=Dt(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null),(!d||4&i&&a!==(a=t[2].id))&&m(e,"data-deal-block-id",a),(!d||256&i)&&m(e,"style",t[8]),(!d||4&i)&&y(e,"kaching-bundles__block--horizontal","horizontal"===t[2].blockLayout)},i(t){if(!d){for(let t=0;t<f.length;t+=1)O(p[t]);d=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)C(p[t]);d=!1},d(t){t&&l(e),h&&h.d(),s(p,t),g&&g.d()}}}function Ot(t){let e,n;return{c(){e=u("div"),n=d(t[7]),m(e,"class","kaching-bundles__block-title")},m(t,r){o(t,e,r),c(e,n)},p(t,e){128&e&&p(n,t[7])},d(t){t&&l(e)}}}function Ct(t){let e,n;return e=new Ft({props:{dealBlock:t[2],dealBar:t[18],product:t[3],config:t[1],customQuantity:t[18].id===t[5]&&t[0]&&Number(t[0]),selected:t[18].id===t[5],mostPopular:t[18].id===t[2].mostPopularDealBarId&&"vertical"===t[2].blockLayout,currentVariantId:t[4],componentId:t[9]}}),e.$on("dealBarSelected",t[10]),e.$on("variantSelected",t[11]),e.$on("variantsChanged",t[12]),{c(){j(e.$$.fragment)},m(t,r){R(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.dealBlock=t[2]),4&n&&(r.dealBar=t[18]),8&n&&(r.product=t[3]),2&n&&(r.config=t[1]),37&n&&(r.customQuantity=t[18].id===t[5]&&t[0]&&Number(t[0])),36&n&&(r.selected=t[18].id===t[5]),4&n&&(r.mostPopular=t[18].id===t[2].mostPopularDealBarId&&"vertical"===t[2].blockLayout),16&n&&(r.currentVariantId=t[4]),e.$set(r)},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Dt(t){let e,n,r=t[1].translations.outOfStock+"";return{c(){e=u("div"),n=d(r),m(e,"class","kaching-bundles__out-of-stock")},m(t,r){o(t,e,r),c(e,n)},p(t,e){2&e&&r!==(r=t[1].translations.outOfStock+"")&&p(n,r)},d(t){t&&l(e)}}}function jt(t){let e,n,r=t[2]&&Qt(t);return{c(){r&&r.c(),e=h()},m(t,i){r&&r.m(t,i),o(t,e,i),n=!0},p(t,[n]){t[2]?r?(r.p(t,n),4&n&&O(r,1)):(r=Qt(t),r.c(),O(r,1),r.m(e.parentNode,e)):r&&(A(),C(r,1,1,(()=>{r=null})),Q())},i(t){n||(O(r),n=!0)},o(t){C(r),n=!1},d(t){t&&l(e),r&&r.d(t)}}}function Rt(t,e,n){let r,i,a,c,o,{config:l}=e,{dealBlock:s}=e,{product:u}=e,{currentVariantId:d}=e,{quantity:$}=e;const h=x();let f=Math.random().toString(16).slice(2),m=[];return t.$$set=t=>{"config"in t&&n(1,l=t.config),"dealBlock"in t&&n(2,s=t.dealBlock),"product"in t&&n(3,u=t.product),"currentVariantId"in t&&n(4,d=t.currentVariantId),"quantity"in t&&n(0,$=t.quantity)},t.$$.update=()=>{4&t.$$.dirty&&n(8,r=s&&Ht(s)),6&t.$$.dirty&&n(15,i=s&&(s.blockTitleTranslations||[]).find((t=>t.locale===l.locale))),32772&t.$$.dirty&&n(7,a=s&&((i?i.blockTitle:null)||s.blockTitle)),4&t.$$.dirty&&n(5,c=s&&(s.preselectedDealBarId||s.dealBars[0].id)),5&t.$$.dirty&&$&&s&&function(t,e){const r=t.dealBars.sort(((t,e)=>Number(t.quantity)>Number(e.quantity)));let i=r[0];for(const t of r)Number(t.quantity)<=Number(e)&&(i=t);n(5,c=i.id)}(s,$),16392&t.$$.dirty&&n(6,o=function(t,e){return e.some((({variantId:e,quantity:n})=>{const r=t.variants.find((t=>t.id==e));return!!r&&"shopify"===r.inventoryManagement&&"deny"===r.inventoryPolicy&&n>r.inventoryQuantity}))}(u,m))},[$,l,s,u,d,c,o,a,r,f,function(t){const{dealBarId:e}=t.detail;n(5,c=e),ft(h,"deal-bar-selected",{dealBarId:e})},function(t){const{variantId:e}=t.detail;ft(h,"variant-selected",{variantId:e})},function(t){const{variantQuantities:e,formattedPrice:r,preselected:i}=t.detail,a=e.map((({variant:t,quantity:e})=>({variantId:t.id,quantity:e})));n(14,m=a),$&&n(0,$=a.reduce(((t,e)=>t+e.quantity),0)),ft(h,"variants-changed",{variantIdQuantities:a,formattedPrice:r,preselected:i})},function(){return m},m,i]}K(Ft,{dealBlock:{},dealBar:{},product:{},config:{},customQuantity:{},currentVariantId:{},componentId:{},selected:{type:"Boolean"},mostPopular:{type:"Boolean"}},[],[],!0);class Ut extends W{constructor(t){super(),J(this,t,Rt,jt,a,{config:1,dealBlock:2,product:3,currentVariantId:4,quantity:0,selectedVariants:13})}get config(){return this.$$.ctx[1]}set config(t){this.$$set({config:t}),F()}get dealBlock(){return this.$$.ctx[2]}set dealBlock(t){this.$$set({dealBlock:t}),F()}get product(){return this.$$.ctx[3]}set product(t){this.$$set({product:t}),F()}get currentVariantId(){return this.$$.ctx[4]}set currentVariantId(t){this.$$set({currentVariantId:t}),F()}get quantity(){return this.$$.ctx[0]}set quantity(t){this.$$set({quantity:t}),F()}get selectedVariants(){return this.$$.ctx[13]}}K(Ut,{config:{type:"Object",attribute:"config"},dealBlock:{type:"Object",attribute:"deal-block"},product:{type:"Object",attribute:"product"},currentVariantId:{type:"Number",attribute:"current-variant-id"},quantity:{type:"Number",attribute:"quantity"}},[],["selectedVariants"],!1);const Zt="kaching-bundles-block";window.customElements&&!window.customElements.get(Zt)&&window.customElements.define(Zt,Ut.element)}();
