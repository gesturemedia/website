!function(){if(void 0===window.orderDeadlineAppByEESL||null===window.orderDeadlineAppByEESL){var e=function(e){var t={shop:null,shopifyCachedProductData:null,installConfig:null,shopifyAppLocationID:0,hasLoaded:!1,ajaxCount:0,cssIsLoaded:!1,isLoading:!1,observedCartChangeCount:0,resetHtmlClone:null,timerWrap:null,timerEl:null,outOfStockMessageWrap:null,timerDaysWrap:null,timerHoursWrap:null,timerMinutesWrap:null,timerSecondsWrap:null,timerDaysVal:null,timerHoursVal:null,timerMinutesVal:null,timerSecondsVal:null,timerDaysText:null,timerHoursText:null,timerMinutesText:null,timerSecondsText:null,locationsOverlayEl:null,locationListMaxHeight:0,elapsedTime:0,timerInterval:null,resizeTimeout:null,monitorHistoryInterval:null,cachedHistoryLength:0,cachedProductId:0,init:function(e){return this.isLoading=!0,this.shop=Shopify.shop,this.shopifyAppLocationID=this.getLocalAppData().locationId,this.hasLoaded||(this.initJsTimezoneDetect(),this.monitorHistoryAndReloadOnChange(),this.observeCartChanges()),this.isLoadedFromAppUnit()?this.initFromAppUnit(e):this.isProductPage()?this.initFromProductPage(e):this.isViewCartPage()?this.initFromViewCartPage(e):this.initFromCollectionPage(e),this.hasLoaded=!0,this},initJsTimezoneDetect:function(){var e;(e=function(){"use strict";var t={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},i=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},a=function(e){for(var t=new Date(e,0,1,0,0,1,0).getTime(),i=new Date(e,12,31,23,59,59).getTime(),a=t,n=new Date(a).getTimezoneOffset(),r=null,o=null;a<i-864e5;){var l=new Date(a),c=l.getTimezoneOffset();c!==n&&(c<n&&(r=l),c>n&&(o=l),n=c),a+=864e5}return!(!r||!o)&&{s:s(r).getTime(),e:s(o).getTime()}},s=function e(i,a,s){void 0===a&&(a=t.DAY,s=t.HOUR);for(var n=new Date(i.getTime()-a).getTime(),r=i.getTime()+a,o=new Date(n).getTimezoneOffset(),l=n,c=null;l<r-s;){var d=new Date(l);if(d.getTimezoneOffset()!==o){c=d;break}l+=s}return a===t.DAY?e(c,t.HOUR,t.MINUTE):a===t.HOUR?e(c,t.MINUTE,t.SECOND):c},n=function(i,a){for(var s=function(e){for(var s=0,n=0;n<i.length;n++)if(e.rules[n]&&i[n]){if(!(i[n].s>=e.rules[n].s&&i[n].e<=e.rules[n].e)){s="N/A";break}if(s=0,s+=Math.abs(i[n].s-e.rules[n].s),(s+=Math.abs(e.rules[n].e-i[n].e))>t.MAX_SCORE){s="N/A";break}}return function(e,t,i,a){if("N/A"!==i)return i;if("Asia/Beirut"===t){if("Africa/Cairo"===a.name&&13983768e5===e[6].s&&14116788e5===e[6].e)return 0;if("Asia/Jerusalem"===a.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if("America/Santiago"===t){if("America/Asuncion"===a.name&&14124816e5===e[6].s&&1397358e6===e[6].e)return 0;if("America/Campo_Grande"===a.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if("America/Montevideo"===t){if("America/Sao_Paulo"===a.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if("Pacific/Auckland"===t&&"Pacific/Fiji"===a.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return i}(i,a,s,e)},n={},r=e.olson.dst_rules.zones,o=r.length,l=t.AMBIGUITIES[a],c=0;c<o;c++){var d=r[c],u=s(r[c]);"N/A"!==u&&(n[d.name]=u)}for(var p in n)if(n.hasOwnProperty(p))for(var m=0;m<l.length;m++)if(l[m]===p)return p;return a};return{determine:function(){var s=function(){var e,t;if("undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat&&void 0!==(e=Intl.DateTimeFormat())&&void 0!==e.resolvedOptions)return(t=e.resolvedOptions().timeZone)&&(t.indexOf("/")>-1||"UTC"===t)?t:void 0}();return s||(s=e.olson.timezones[function(){var e=i(new Date(t.BASELINE_YEAR,0,2)),a=i(new Date(t.BASELINE_YEAR,5,2)),s=e-a;return s<0?e+",1":s>0?a+",1,s":e+",0"}()],void 0!==t.AMBIGUITIES[s]&&(s=function(t){var i=function(){for(var t=[],i=0;i<e.olson.dst_rules.years.length;i++){var s=a(e.olson.dst_rules.years[i]);t.push(s)}return t}();return function(e){for(var t=0;t<e.length;t++)if(!1!==e[t])return!0;return!1}(i)?n(i,t):t}(s))),{name:function(){return s}}}}}()).olson=e.olson||{},e.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},e.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:"undefined"!=typeof define&&null!==define&&null!=define.amd?define([],function(){return e}):window.jstz=e},observeCartChanges:function(){var e=this;document.addEventListener("product:added",function(t){(!e.installConfig||e.installConfig.viewCartPageEnabled&&(e.installConfig.cartAttributesEnabled||e.installConfig.lineItemPropertiesEnabled))&&e.updateCartAttributesAndLineItemProperties(function(e){})})},initCss:function(){var e=this;e.cssIsLoaded||("replace"!=e.installConfig.customCssMode&&(e.installConfig.baseCss.length>0?e.initInternalCssFromString(e.installConfig.baseCss):e.loadCss("https://shop.orderdeadline.com/app/frontend/sass/"+e.installConfig.type+"/output/style.css?9")),"disabled"!=e.installConfig.customCssMode&&e.initCustomCss(),e.cssIsLoaded=!0)},initFromAppUnit:function(){var e=this,t=document.querySelector(".trustblox-1-timer-wrap[data-od-product-id]");if(t){var i=t.dataset.odProductId&&t.dataset.odProductId.length>0?parseInt(t.dataset.odProductId):-1,a=t.dataset.odVariantId&&t.dataset.odVariantId.length>0?parseInt(t.dataset.odVariantId):0,s=this.getCollectionHandle();e.fetchInstallConfig(i,a,s,"","",0,function(t){e.isLoading=!1,void 0!==t.errors&&t.errors.length>0?console.log("OD ERRORS: ",t):(e.installConfig=t,e.installConfig.cancelTimerInit||(e.initCss(),e.initTimerWrap(),e.initTimerHtml(),e.initTimer(),e.initTimerMessages(),e.initLocationsSelector(),"function"==typeof callback&&callback()))})}else e.isLoading=!1},initFromCollectionPage:function(t){var i=this;if(e(".trustblox-1-timer-wrap").length<=0)i.isLoading=!1;else{i=this;var a=this.getCollectionHandle();i.fetchInstallConfig(-1,0,a,"","",0,function(e){i.isLoading=!1,void 0!==e.errors&&e.errors.length>0?console.log("OD ERRORS: ",e):(i.installConfig=e,i.installConfig.cancelTimerInit||(i.initCss(),i.initTimerWrap(),i.initTimerHtml(),i.initTimer(),i.initTimerMessages(),i.initLocationsSelector(),"function"==typeof t&&t()))})}},removeTimerWrap:function(){null!==this.timerWrap&&(this.timerWrap.remove(),this.timerWrap=null)},logProductDetails:function(e,t,i,a){if("https:"!=i){"string"==typeof a&&(a=a.split(", "));var s=this.getLocalAppData();if(this.hasLocalStorage())var n=20;else n=8;for(var r={productId:e,variantId:t,tags:a,collection:i},o=-1,l=0;l<s.productData.length;++l)if(s.productData[l].productId==e&&s.productData[l].variantId==t){o=l;break}o>-1?s.productData[o]=r:(s.productData.length>=n&&s.productData.unshift(),s.productData.push(r)),this.setLocalAppData(s)}},getCart:function(t){e.getJSON("/cart.js",function(e){"function"==typeof t&&t(e)})},fetchCartInstallConfig:function(e){var t=this,i=null;this.getCart(function(a){i=a;for(var s=[],n=[],r=[],o=[],l=t.getLocalAppData(),c=null,d=0;d<i.items.length;++d){c=null;for(var u=0;u<l.productData.length;++u)if(l.productData[u].productId==i.items[d].product_id&&l.productData[u].variantId==i.items[d].variant_id){c=l.productData[u];break}c?(s.push(c.productId),n.push(c.variantId),r.push(c.collection),o.push(c.tags)):(s.push(i.items[d].product_id),n.push(i.items[d].variant_id),r.push(null),o.push(null))}s.length<=0||t.fetchInstallConfig(s.join(","),n.join(","),r.join(","),o.join("||"),"&page=cart",0,function(t){void 0!==t.errors&&t.errors.length>0?console.log("OD ERRORS: ",t):(t.cartData=i,"function"==typeof e&&e(t))})})},setLineItemProperties:function(t,i){if(void 0===t&&(t=this.installConfig),t.lineItemPropertyEnabledDeliveryDate||t.lineItemPropertyEnabledDispatchDate)for(var a=t.lineItemPropertyKeyDispatchDate?t.lineItemPropertyKeyDispatchDate:"dispatches",s=t.lineItemPropertyKeyDeliveryDate?t.lineItemPropertyKeyDeliveryDate:"delivery",n=null,r=null,o=null,l=null,c=0;c<t.cartData.items.length;++c){n=t.cartData.items[c],r=t.cartData.items[c].variant_id,o=t.cartData.items[c].quantity,l=null,null==n.properties&&(n.properties={});for(var d=0;d<t.items.length;++d)if(t.items[d].variantId==r){l=t.items[d];break}if(l){var u={line:parseInt(c+1),quantity:o,properties:n.properties};t.lineItemPropertyEnabledDispatchDate&&(u.properties[a]=l.lineItemDispatchDateDated),t.lineItemPropertyEnabledDeliveryDate&&(u.properties[s]=l.lineItemDeliveryDateDated),e.ajax({type:"post",url:"/cart/change.js",data:u,dataType:"json",success:function(e){"function"==typeof i&&i()},error:function(e){"function"==typeof i&&i()}})}}else"function"==typeof i&&i()},setCartAttributes:function(t,i){void 0===t&&(t=this.installConfig);var a={attributes:{}};t.cartAttributeEnabledCartMessage&&!t.cartAttributeMessageUseDated&&(a.attributes.orderDeadlineAppCartMessage=void 0!==t.message?t.message:""),t.cartAttributeEnabledCartMessage&&t.cartAttributeMessageUseDated&&(a.attributes.orderDeadlineAppCartMessage=void 0!==t.messageDated?t.messageDated:""),t.cartAttributeEnabledNextDispatchDate&&(a.attributes.orderDeadlineAppNextDispatchDate=void 0!==t.calculatedDates.nextDispatchDate?t.calculatedDates.nextDispatchDate:""),t.cartAttributeEnabledLastDispatchDate&&(a.attributes.orderDeadlineAppLastDispatchDate=void 0!==t.calculatedDates.lastDispatchDate?t.calculatedDates.lastDispatchDate:""),t.cartAttributeEnabledNextDeliveryDate&&(a.attributes.orderDeadlineAppNextDeliveryDate=void 0!==t.calculatedDates.nextDeliveryDate?t.calculatedDates.nextDeliveryDate:""),t.cartAttributeEnabledLastDeliveryDate&&(a.attributes.orderDeadlineAppLastDeliveryDate=void 0!==t.calculatedDates.lastDeliveryDate?t.calculatedDates.lastDeliveryDate:""),t.cartAttributeEnabledNextDeliveryRangeDate&&(a.attributes.orderDeadlineAppNextDeliveryRangeDate=void 0!==t.calculatedDates.nextDeliveryRangeDate?t.calculatedDates.nextDeliveryRangeDate:""),t.cartAttributeEnabledLastDeliveryRangeDate&&(a.attributes.orderDeadlineAppLastDeliveryRangeDate=void 0!==t.calculatedDates.lastDeliveryRangeDate?t.calculatedDates.lastDeliveryRangeDate:""),t.cartAttributeEnabledNextDispatchTimestamp&&(a.attributes.orderDeadlineAppNextDispatchTimestamp=void 0!==t.calculatedDates.nextDispatchTimestamp?t.calculatedDates.nextDispatchTimestamp:""),t.cartAttributeEnabledLastDispatchTimestamp&&(a.attributes.orderDeadlineAppLastDispatchTimestamp=void 0!==t.calculatedDates.lastDispatchTimestamp?t.calculatedDates.lastDispatchTimestamp:""),t.cartAttributeEnabledNextDeliveryTimestamp&&(a.attributes.orderDeadlineAppNextDeliveryTimestamp=void 0!==t.calculatedDates.nextDeliveryTimestamp?t.calculatedDates.nextDeliveryTimestamp:""),t.cartAttributeEnabledLastDeliveryTimestamp&&(a.attributes.orderDeadlineAppLastDeliveryTimestamp=void 0!==t.calculatedDates.lastDeliveryTimestamp?t.calculatedDates.lastDeliveryTimestamp:""),t.cartAttributeEnabledNextDeliveryRangeTimestamp&&(a.attributes.orderDeadlineAppNextDeliveryRangeTimestamp=void 0!==t.calculatedDates.nextDeliveryRangeTimestamp?t.calculatedDates.nextDeliveryRangeTimestamp:""),t.cartAttributeEnabledLastDeliveryRangeTimestamp&&(a.attributes.orderDeadlineAppLastDeliveryRangeTimestamp=void 0!==t.calculatedDates.lastDeliveryRangeTimestamp?t.calculatedDates.lastDeliveryRangeTimestamp:""),e.ajax({type:"POST",url:"/cart/update.js",data:a,dataType:"json",success:function(e){"function"==typeof i&&i()},error:function(e){"function"==typeof i&&i()}})},updateCartAttributesAndLineItemProperties:function(e){var t=this;t.fetchCartInstallConfig(function(i){t.observedCartChangeCount>=6?console.warn("OD: Max calls (6) to updateCartAttributesAndLineItemProperties() has been met this page load."):(t.observedCartChangeCount=t.observedCartChangeCount+1,i&&(i.cancelTimerInit||(i.lineItemPropertiesEnabled&&i.cartAttributesEnabled?t.setLineItemProperties(i,function(){t.setCartAttributes(i)}):i.lineItemPropertiesEnabled?t.setLineItemProperties(i):i.cartAttributesEnabled&&t.setCartAttributes(i),"function"==typeof e&&e(i))))})},updateLineItemProperties:function(e){var t=this;t.fetchCartInstallConfig(function(i){i.cancelTimerInit||(i.lineItemPropertiesEnabled?(t.setLineItemProperties(i),"function"==typeof e&&e(i)):console.log("Error: Line item property logging is not currently enabled on this store."))})},updateCartAttributes:function(e){var t=this;t.fetchCartInstallConfig(function(i){i.cancelTimerInit||(i.cartAttributesEnabled?(t.setCartAttributes(i),"function"==typeof e&&e(i)):console.log("Error: Cart attribute logging is not currently enabled on this store."))})},monitorHistoryAndReloadOnChange:function(){var e=this;e.cachedHistoryLength=history.length,e.monitorHistoryInterval=setInterval(function(){if(history.length!=e.cachedHistoryLength){if(e.installConfig&&!e.installConfig.enableResetOnHistoryStateChange)return;e.ajaxCount=0,e.cachedProductId=0,e.cachedHistoryLength=history.length,e.resetNew()}},3e3)},initFromViewCartPage:function(t){var i=this;i.fetchCartInstallConfig(function(a){if(i.isLoading=!1,i.installConfig=a,!i.installConfig.cancelTimerInit){i.initCss();var s="trustblox-1-viewcart-wrap",n=e("."+s+":visible:first").not(".trustblox-1-timer-wrap-reset-clone");n.length<=0&&(n=e("<div />").addClass(s),"before"==i.installConfig.placementMode?n.insertBefore(i.installConfig.placement):"after"==i.installConfig.placementMode?n.insertAfter(i.installConfig.placement):"appended"==i.installConfig.placementMode?n.appendTo(i.installConfig.placement):"prepended"==i.installConfig.placementMode&&n.prependTo(i.installConfig.placement));var r=e("<div />").addClass(s+"-inner").appendTo(n);e("<div />").addClass("trustblox-1-viewcart-message").html(i.installConfig.message).appendTo(r);i.timerWrap=n,void 0!==i.installConfig.backgroundColour&&i.installConfig.backgroundColour.length>0&&n.css({backgroundColor:"#"+i.installConfig.backgroundColour}),void 0!==i.installConfig.textColour&&i.installConfig.textColour.length>0&&n.css({color:"#"+i.installConfig.textColour}),i.installConfig.cartAttributesEnabled&&i.setCartAttributes(),i.installConfig.lineItemPropertiesEnabled&&i.setLineItemProperties(),"function"==typeof t&&t()}})},getVariantCachedData:function(e){var t=null;if(null==this.shopifyCachedProductData)return t;for(var i=0;i<this.shopifyCachedProductData.variants.length;++i)if(this.shopifyCachedProductData.variants[i].id==e){t=this.shopifyCachedProductData.variants[i];break}return t},getProductId:function(t){var i=this,a=this.getProductHandle(),s=0;i.cachedProductId>0?t(i.cachedProductId):i.hasLoaded||void 0===window.meta||void 0===window.meta.product?e.getJSON("/products/"+a+".js",function(e){void 0===(s=e.id)&&(s=e.product.id),i.cachedProductId=s,t(s)}):(s=window.meta.product.id,i.cachedProductId=s,"function"==typeof t&&t(s))},outputConfigLog:function(){void 0!==this.installConfig.configurationLog&&console.log("Order Deadline App: Debug Mode ON",this.installConfig.configurationLog)},initFromProductPage:function(t){var i=this;i.getProductId(function(a){var s=e('form[action$="/cart/add"][data-od-main-product-form="true"]:visible:first');if(s.length<=0){var n=(s=e('form[action$="/cart/add"]:visible')).filter(function(){return e(this).closest("[role=main]").length>0});s=n.length>0?n.eq(0):s.eq(0)}var r=s.find(":input[name=id]"),o=i.getSelectedVariantId(r),l=i.getCollectionHandle(),c="";i.shop;i.fetchInstallConfig(a,o,l,c,"",1,function(e){if(i.isLoading=!1,void 0!==e.errors&&e.errors.length>0)console.log("OD ERRORS: ",e);else{i.installConfig=e,void 0!==i.installConfig.configurationLog&&i.outputConfigLog(),i.shopifyCachedProductData=e.shopifyCachedProductData,c=i.shopifyCachedProductData.tags,i.logProductDetails(a,o,l,c),0==o&&void 0!==i.shopifyCachedProductData&&i.shopifyCachedProductData.variants.length>0&&(o=i.shopifyCachedProductData.variants[0].id);var s=i.getVariantCachedData(o);i.initCss(),i.installConfig.cancelTimerInit?(i.initTimerWrap(),i.timerWrap.hide()):null==o?(i.initTimerWrap(),i.timerWrap.hide()):i.installConfig.nextAvailableEnabled?(i.initTimerWrap(),i.initTimerHtml(),i.initTimer(),i.initTimerMessages(),i.initLocationsSelector()):null!=s&&s.inventoryQuantity<=0&&"deny"==s.inventoryPolicy&&"shopify"==s.inventoryManagement||null!=s&&s.inventoryQuantity<=0&&"continue"==s.inventoryPolicy&&"shopify"==s.inventoryManagement&&"outOfStock"==i.installConfig.zeroStockOversellPolicy?(i.initTimerWrap(),i.installConfig.outOfStockMessage.length<=0?i.timerWrap.hide():i.initAsOutOfStock()):null!=s&&s.inventoryQuantity<=0&&"continue"==s.inventoryPolicy&&"shopify"==s.inventoryManagement&&"outOfStockOversell"==i.installConfig.zeroStockOversellPolicy?(i.initTimerWrap(),i.installConfig.outOfStockOversellMessage.length<=0?i.timerWrap.hide():i.initAsOutOfStockOversell()):null!=s&&s.inventoryQuantity<=0&&"continue"==s.inventoryPolicy&&"shopify"==s.inventoryManagement&&"hide"==i.installConfig.zeroStockOversellPolicy?(i.initTimerWrap(),i.timerWrap.hide()):(i.initTimerWrap(),i.initTimerHtml(),i.initTimer(),i.initTimerMessages(),i.initLocationsSelector()),"function"==typeof t&&t()}}),i.ajaxCount<=0&&i.handleOnChangeVariantExp(),i.ajaxCount++})},loadCss:function(t){e('<link rel="stylesheet" href="'+t+'" media="all" />').appendTo("head")},initCustomCss:function(){e("<style />").html(this.installConfig.compiledCss).appendTo("head")},initInternalCssFromString:function(t){e("<style />").html(t).appendTo("head")},hasLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},createCookie:function(e,t,i){if(i){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3);var s="; expires="+a.toGMTString()}else s="";document.cookie=e+"="+t+s+"; path=/"},readCookie:function(e){for(var t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var s=i[a];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return null},eraseCookie:function(e){this.createCookie(e,"",-1)},getAjaxBaseUrl:function(){return"https://shop.orderdeadline.com/app/frontend/api.php?shop="+this.shop+"&shopifyAppLocationID="+this.shopifyAppLocationID+"&userTimezone="+this.getUserTimezone()+"&a="},getApiRequestUrl:function(e){return this.getAjaxBaseUrl()+e},isLoadedFromAppUnit:function(){return!!document.querySelector(".trustblox-1-timer-wrap[data-od-product-id]")},isProductPage:function(){return window.location.href.indexOf("/products/")>-1},isViewCartPage:function(){return window.location.href.split("?")[0].slice(-6).indexOf("/cart")>-1},getUserTimezone:function(){return"undefined"==typeof jstz?"unknown":jstz.determine().name()},getQueryParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},getProductHandle:function(){var e=window.location.href;return e=(e=(e=(e=e.split("/products/"))[e.length-1]).split("/"))[0]},getCollectionHandle:function(){var e=window.location.href;return e=(e=(e=(e=e.split("/collections/"))[e.length-1]).split("/"))[0]},fetchInstallConfig:function(t,i,a,s,n,r,o){r=void 0===r?0:r;var l=this.getApiRequestUrl("get-install-config")+n+"&shopifyProductId="+encodeURIComponent(t)+"&shopifyVariantId="+encodeURIComponent(i)+"&collectionHandle="+encodeURIComponent(a)+"&productTags="+encodeURIComponent(s)+"&getExtraData="+encodeURIComponent(r);return e.ajax({url:l,type:"GET",cache:!1,dataType:"jsonp",success:function(e){"function"==typeof o&&o(e)},error:function(e){console.log("OD: error")}})},resetNew:function(){var t=this;t.isLoading?console.log("OD: Is loading. Return"):(clearInterval(this.timerInterval),null!==this.timerWrap&&(this.resetHtmlClone=this.timerWrap.clone(),this.resetHtmlClone.addClass("trustblox-1-timer-wrap-reset-clone"),this.resetHtmlClone.insertAfter(this.timerWrap),this.resetHtmlClone.children().css({opacity:.6}),e("<div>").addClass("trustblox-1-timer-wrap").insertAfter(this.timerWrap),this.timerWrap.remove()),this.timerWrap=null,null!=this.locationsOverlayEl&&(this.locationsOverlayEl.remove(),this.locationsOverlayEl=null),t.isLoading=!0,this.elapsedTime=0,t.init(function(){null!==t.resetHtmlClone&&(t.resetHtmlClone.remove(),t.resetHtmlClone=null),t.isLoading=!1}))},initTimer:function(){var e=this;this.getTimeRemaining().total>0&&(this.updateTimer(),this.timerInterval=setInterval(function(){e.addElapsedTime(1e3),e.updateTimer()},1e3))},getLocalAppData:function(){if(this.hasLocalStorage())var e=localStorage.getItem("trustblox-order-deadline");else e=this.readCookie("trustblox-order-deadline");return e=e?JSON.parse(e):{productData:[],locationId:""}},setLocalAppData:function(e){this.hasLocalStorage()?localStorage.setItem("trustblox-order-deadline",JSON.stringify(e)):this.createCookie.setItem("trustblox-order-deadline",JSON.stringify(e),7)},getSelectedLocation:function(){for(var e=0;e<this.installConfig.locations.length;++e)if(this.installConfig.locations[e].selected)return this.installConfig.locations[e];return null},setLocationListMaxHeight:function(){var t=this.locationsOverlayEl.find(".trustblox-1-timer-locations-title"),i=this.locationsOverlayEl.find("ul"),a=parseInt(.8*e(window).height()),s=e(this.locationsOverlayEl).is(":visible");s||this.locationsOverlayEl.show();var n=t.outerHeight();s||this.locationsOverlayEl.hide(),i.css({maxHeight:parseInt(a-n)+"px"})},initLocationsSelector:function(){var t=this;this.installConfig.locations.length<2||(this.initLocationsOverlay(),this.initLocationsToggle(),e(window).resize(function(){clearTimeout(t.resizeTimeout),t.resizeTimeout=setTimeout(function(){t.setLocationListMaxHeight()},1e3)}))},initLocationsToggle:function(){var t=this,i=e('<div class="trustblox-1-timer-locations-toggle" />').prependTo(this.messageEl),a=e('<div class="trustblox-1-timer-locations-toggle-text-wrap" />').appendTo(i),s=e('<div class="trustblox-1-timer-locations-toggle-text" />').appendTo(a);e('<div class="trustblox-1-timer-locations-toggle-icon" />').appendTo(i),e('<div class="trustblox-1-timer-locations-toggle-arrow" />').appendTo(i);i.click(function(){t.setLocationListMaxHeight(),t.locationsOverlayEl.stop(!0,!1).fadeIn(600),e("html").addClass("trustblox-1-timer-locations-overlay-active")});for(var n=0;n<this.installConfig.locations.length;++n)if(this.installConfig.locations[n].selected){s.text(this.installConfig.locations[n].name);break}},initLocationsOverlay:function(){var t=this,i=e("body"),a=e('<div class="trustblox-1-timer-locations-overlay" />').prependTo(i),s=(e('<div class="trustblox-1-timer-locations-overlay-mask" />').appendTo(a),e('<div class="trustblox-1-timer-locations-overlay-list" />').appendTo(a)),n=e('<div class="trustblox-1-timer-locations-title" />').appendTo(s),r=e('<div class="trustblox-1-timer-locations-close">x</div>').appendTo(s),o=e("<ul />").appendTo(s),l=this.getSelectedLocation();t.locationsOverlayEl=a,t.locationsOverlayEl.hide(),r.click(function(){t.locationsOverlayEl.stop(!0,!1).fadeOut(600,function(){e("html").removeClass("trustblox-1-timer-locations-overlay-active")})}),n.text(t.installConfig.locationsTitleText);for(var c=0;c<this.installConfig.locations.length;++c){var d=e("<li />").data("shopifyAppLocationID",this.installConfig.locations[c].shopifyAppLocationID).text(this.installConfig.locations[c].name).on("click",function(){e("html").removeClass("trustblox-1-timer-locations-overlay-active");var i=t.getLocalAppData();i.locationId=e(this).data("shopifyAppLocationID"),t.setLocalAppData(i),t.resetNew()}).appendTo(o);l&&this.installConfig.locations[c].shopifyAppLocationID==l.shopifyAppLocationID&&d.addClass("active")}this.locationsOverlayEl=a},initTimerWrap:function(){var t="trustblox-1-timer-wrap",i=e("."+t+":visible:first").not(".trustblox-1-timer-wrap-reset-clone");this.timerWrap||(i.length>0?this.timerWrap=i:(this.timerWrap=e('<div class="'+t+'" />'),"before"==this.installConfig.placementMode?this.timerWrap.insertBefore(this.installConfig.placement):"after"==this.installConfig.placementMode?this.timerWrap.insertAfter(this.installConfig.placement):"appended"==this.installConfig.placementMode?this.timerWrap.appendTo(this.installConfig.placement):"prepended"==this.installConfig.placementMode&&this.timerWrap.prependTo(this.installConfig.placement))),e(this.timerWrap).addClass(t.replace("wrap",this.installConfig.type.replace("/^[a-z0-9]+$/i","").toLowerCase())),e(this.timerWrap).addClass("trustblox-1-style-"+this.installConfig.style),e(this.timerWrap).addClass("trustblox-1-scheme-"+this.installConfig.scheme),e(this.timerWrap).addClass("trustblox-align-"+this.installConfig.alignment),0!=this.installConfig.marginTop&&e(this.timerWrap).css({marginTop:this.installConfig.marginTop}),0!=this.installConfig.marginRight&&e(this.timerWrap).css({marginRight:this.installConfig.marginRight}),0!=this.installConfig.marginBottom&&e(this.timerWrap).css({marginBottom:this.installConfig.marginBottom}),0!=this.installConfig.marginLeft&&e(this.timerWrap).css({marginLeft:this.installConfig.marginLeft}),this.timerWrap.show()},initTimerHtml:function(){this.timerEl=e('<div class="trustblox-timer" />').appendTo(this.timerWrap).get(0),this.installConfig.hideTimerElements&&e(this.timerEl).addClass("trustblox-1-timer-hide"),this.timerDaysWrap=e('<span class="trustblox-segment-wrap trustblox-days-wrap" />').appendTo(this.timerEl).get(0),this.timerDaysVal=e('<span class="trustblox-val" />').appendTo(this.timerDaysWrap).get(0),this.timerDaysText=e('<span class="trustblox-text">'+this.installConfig.daysText+"</span>").appendTo(this.timerDaysWrap).get(0),this.timerHoursWrap=e('<span class="trustblox-segment-wrap trustblox-hours-wrap" />').appendTo(this.timerEl).get(0),this.timerHoursVal=e('<span class="trustblox-val" />').appendTo(this.timerHoursWrap).get(0),this.timerHoursText=e('<span class="trustblox-text">'+this.installConfig.hoursText+"</span>").appendTo(this.timerHoursWrap).get(0),this.timerMinutesWrap=e('<span class="trustblox-segment-wrap trustblox-minutes-wrap" />').appendTo(this.timerEl).get(0),this.timerMinutesVal=e('<span class="trustblox-val" />').appendTo(this.timerMinutesWrap).get(0),this.timerMinutesText=e('<span class="trustblox-text">'+this.installConfig.minutesText+"</span>").appendTo(this.timerMinutesWrap).get(0),this.timerSecondsWrap=e('<span class="trustblox-segment-wrap trustblox-seconds-wrap" />').appendTo(this.timerEl).get(0),this.timerSecondsVal=e('<span class="trustblox-val" />').appendTo(this.timerSecondsWrap).get(0),this.timerSecondsText=e('<span class="trustblox-text">'+this.installConfig.secondsText+"</span>").appendTo(this.timerSecondsWrap).get(0)},initTimerMessages:function(){"textual"==this.installConfig.type?this.initTimerTextual():"digital"==this.installConfig.type&&this.initTimerDigital()},removeMessageEls:function(){this.messageEl&&this.messageEl.remove(),this.promptEl&&this.promptEl.remove(),this.instructionEl&&this.instructionEl.remove(),this.outOfStockMessageWrap&&this.outOfStockMessageWrap.remove()},initTimerTextual:function(){this.removeMessageEls(),this.installConfig.message.length>0&&(this.messageEl=e('<div class="trustblox-message">'+this.installConfig.message+"</div>").prependTo(this.timerWrap)),this.installConfig.nextAvailableEnabled||(this.installConfig.prompt.length>0&&(this.promptEl=e('<div class="trustblox-prompt">'+this.installConfig.prompt+"</div>").prependTo(this.timerEl)),this.installConfig.instruction.length>0&&(this.instructionEl=e('<div class="trustblox-instruction">'+this.installConfig.instruction+"</div>").appendTo(this.timerWrap)))},initTimerDigital:function(){this.removeMessageEls(),this.installConfig.message.length>0&&(this.messageEl=e('<div class="trustblox-message">'+this.installConfig.message+"</div>").prependTo(this.timerWrap)),this.installConfig.nextAvailableEnabled||(this.installConfig.prompt.length>0&&(this.promptEl=e('<span class="trustblox-prompt">'+this.installConfig.prompt+"</span>").appendTo(this.messageEl)),this.installConfig.instruction.length>0&&(this.instructionEl=e('<div class="trustblox-instruction">'+this.installConfig.instruction+"</div>").appendTo(this.timerWrap)),this.installConfig.hideTimerElements&&e(this.promptEl).addClass("trustblox-1-timer-hide"))},initAsOutOfStock:function(){this.removeMessageEls(),this.outOfStockMessageWrap=e('<div class="trustblox-out-of-stock-message">'+this.installConfig.outOfStockMessage+"</div>").appendTo(this.timerWrap)},initAsOutOfStockOversell:function(){this.removeMessageEls(),this.outOfStockMessageWrap=e('<div class="trustblox-out-of-stock-message">'+this.installConfig.outOfStockOversellMessage+"</div>").appendTo(this.timerWrap)},addElapsedTime:function(e){this.elapsedTime=parseInt(this.elapsedTime+e)},updateTimer:function(){var e=this.getTimeRemaining();this.timerDaysText.innerHTML=1==e.days?this.installConfig.dayText:this.installConfig.daysText,this.timerHoursText.innerHTML=1==e.hours?this.installConfig.hourText:this.installConfig.hoursText,this.timerMinutesText.innerHTML=1==e.minutes?this.installConfig.minuteText:this.installConfig.minutesText,this.timerSecondsText.innerHTML=1==e.seconds?this.installConfig.secondText:this.installConfig.secondsText,"textual"==this.installConfig.type&&this.updateTimerTextual(e),"digital"==this.installConfig.type&&this.updateTimerDigital(e),e.total<=0&&this.resetNew()},updateTimerTextual:function(t){this.timerDaysVal.innerHTML=t.days<0?"0":t.days,this.timerHoursVal.innerHTML=t.hours<0?"0":t.hours,this.timerMinutesVal.innerHTML=t.minutes<0?"0":t.minutes,this.timerSecondsVal.innerHTML=t.seconds<0?"0":("0"+t.seconds).slice(-2),t.days>0?e(this.timerDaysWrap).show():e(this.timerDaysWrap).hide(),t.hours>0?e(this.timerHoursWrap).show():e(this.timerHoursWrap).hide(),t.minutes>0?e(this.timerMinutesWrap).show():e(this.timerMinutesWrap).hide(),"always"==this.installConfig.showSecondsWhen?e(this.timerSecondsWrap).show():"within-1-hour"==this.installConfig.showSecondsWhen?0==t.days&&t.hours<=0?e(this.timerSecondsWrap).show():e(this.timerSecondsWrap).hide():0==t.days&&t.hours<=1?e(this.timerSecondsWrap).show():e(this.timerSecondsWrap).hide()},updateTimerDigital:function(t){this.timerDaysVal.innerHTML=t.days.length<2?"0"+t.days:t.days,this.timerHoursVal.innerHTML=t.hours<0?"0":("0"+t.hours).slice(-2),this.timerMinutesVal.innerHTML=t.minutes<0?"00":("0"+t.minutes).slice(-2),this.timerSecondsVal.innerHTML=t.seconds<0?"00":("0"+t.seconds).slice(-2),this.installConfig.hideAtZero&&(t.days<=0?e(this.timerDaysWrap).hide():e(this.timerDaysWrap).show(),t.days<=0&&t.hours<=0?e(this.timerHoursWrap).hide():e(this.timerHoursWrap).show(),t.days<=0&&t.hours<=0&&t.minutes<=0?e(this.timerMinutesWrap).hide():e(this.timerMinutesWrap).show())},getElapsedTime:function(){return this.elapsedTime},getTimeRemaining:function(){var e=this.installConfig.deadlineTimestamp-parseInt(this.installConfig.nowTimestamp+this.getElapsedTime()),t=Math.floor(e/1e3%60),i=Math.floor(e/1e3/60%60),a=Math.floor(e/36e5%24);return{total:e,days:Math.floor(e/864e5),hours:a,minutes:i,seconds:t}},getSelectedVariantId:function(e){var t=0,i=0;return void 0!==e&&e.length>0&&(t=this.getSelectedVariantIdFromInput(e)),void 0!==t&&null!=t&&0!=t||(t=this.getSelectedVariantIdFromQueryString()),void 0!==t&&null!=t&&0!=t||(i=this.getSelectedVariantIdFromMetaData(),(void 0===(t=parseInt(i))||0==t||t.length!=i.length)&&ShopifyAnalytics&&ShopifyAnalytics.meta&&ShopifyAnalytics.meta.product&&ShopifyAnalytics.meta.product.variants&&1==ShopifyAnalytics.meta.product.variants.length&&(t=ShopifyAnalytics.meta.product.variants[0].id)),void 0!==t&&null!=t||(t=0),t.toString()},getSelectedVariantIdFromQueryString:function(){return isNaN(parseInt(this.getQueryParameterByName("variant",window.location.href)))?0:parseInt(this.getQueryParameterByName("variant",window.location.href))},getSelectedVariantIdFromMetaData:function(){return"undefined"==typeof ShopifyAnalytics||void 0===ShopifyAnalytics.meta||isNaN(parseInt(ShopifyAnalytics.meta.selectedVariantId))?0:ShopifyAnalytics.meta.selectedVariantId},getSelectedVariantIdFromInput:function(t){var i=0;return void 0===t||0==t.length?0:("SELECT"==t.prop("nodeName")?null==(i=t.val())&&(void 0===i&&(i=t.find("option").filter(function(){return void 0!==e(this).attr("selected")&&!1!==e(this).attr("selected")&&void 0!==e(this).attr("value")&&!1!==e(this).attr("value")}).eq(0).prop("value")),void 0===i&&(i=t.find("option").filter(function(){return void 0!==e(this).attr("selected")&&!1!==e(this).attr("selected")}).eq(0).data("variant-id"))):i=t.val(),void 0===i||null==i?0:i)},handleOnChangeVariantExp:function(){var t=this,i=e('form[action$="/cart/add"][data-od-main-product-form="true"]:visible:first');if(i.length<=0){var a=(i=e('form[action$="/cart/add"]:visible')).filter(function(){return e(this).closest("[role=main]").length>0});i=a.length>0?a.eq(0):i.eq(0)}var s=null,n=null,r=null,o=null;i.each(function(){s=e(this),n=s.find(":input"),r=n.filter("[name=id]"),s.data("order-deadline-variant-id",t.getSelectedVariantId(r)),s.children().on("click",function(){o=setTimeout(function(){t.getSelectedVariantId(r)!=s.data("order-deadline-variant-id")&&(s.data("order-deadline-variant-id",t.getSelectedVariantId(r)),t.resetNew())},50)}),n.on("change",function(){setTimeout(function(){tempSelectedVariantId=t.getSelectedVariantId(r),tempSelectedVariantId!=s.data("order-deadline-variant-id")&&(s.data("order-deadline-variant-id",tempSelectedVariantId),t.isLoading||(clearTimeout(o),t.resetNew()))},30)})})}};window.orderDeadlineAppByEESL=t.init()};"undefined"==typeof jQuery||parseFloat(jQuery.fn.jquery)<1.9||parseFloat(jQuery.fn.jquery)>3.3?function(e,t){var i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()},i.src=e,document.getElementsByTagName("head")[0].appendChild(i)}("//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js",function(){jQuery191=jQuery.noConflict(!0),e(jQuery191)}):e(jQuery),Date.now||(Date.now=function(){return(new Date).getTime()})}else console.log("OD: Already loaded")}();